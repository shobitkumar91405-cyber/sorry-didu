<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Aarvi & Siva - Eternal Bond</title>
    <style>
        :root {
            --primary-red: #ff4d4d;
            --dark-bg: #050505;
            --glass: rgba(255, 255, 255, 0.1);
            --text-shadow: 0 0 10px rgba(255, 77, 77, 0.8);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            background: var(--dark-bg);
            color: #fff;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            overflow-x: hidden;
            height: 100vh;
        }

        /* --- BACKGROUND ELEMENTS --- */
        #canvas-bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1; pointer-events: none;
        }

        .rain {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 2; pointer-events: none; opacity: 0.4;
        }

        /* --- INTRO SECTION --- */
        #intro-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, #1a0000 0%, #000 100%);
            z-index: 100; display: flex; flex-direction: column;
            align-items: center; justify-content: center; transition: 1s;
        }

        .heart-container {
            width: 200px; height: 200px; position: relative;
            transform-style: preserve-3d; animation: rotateHeart 10s linear infinite;
            cursor: pointer;
        }

        @keyframes rotateHeart {
            0% { transform: rotateY(0deg) rotateX(0deg); }
            100% { transform: rotateY(360deg) rotateX(360deg); }
        }

        .heart-3d {
            position: absolute; width: 100%; height: 100%;
            background: var(--primary-red);
            clip-path: path('M100 30 C 100 0, 0 0, 0 75 C 0 115, 40 150, 100 190 C 160 150, 200 115, 200 75 C 200 0, 100 0, 100 30');
            box-shadow: 0 0 50px #ff0000;
            animation: heartbeat 1.2s infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); filter: brightness(1); }
            50% { transform: scale(1.1); filter: brightness(1.5); }
        }

        #proposal-ui {
            display: none; text-align: center; z-index: 101;
            padding: 20px;
        }

        .btn-group { display: flex; gap: 20px; margin-top: 30px; justify-content: center; }
        .btn {
            padding: 15px 30px; border: none; border-radius: 50px;
            font-weight: bold; cursor: pointer; transition: 0.3s;
            font-size: 1.1rem; text-transform: uppercase;
        }
        .btn-yes { background: #ff2a6d; color: white; box-shadow: 0 0 20px #ff2a6d; }
        .btn-breakup { background: #333; color: #888; border: 1px solid #555; }

        /* --- CALL UI --- */
        #call-ui {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 500; display: none;
            flex-direction: column; align-items: center; justify-content: space-around;
        }

        .caller-info { text-align: center; }
        .caller-name { font-size: 2.5rem; color: #fff; margin-bottom: 10px; }
        .call-dialogue {
            min-height: 100px; padding: 20px; text-align: center;
            font-style: italic; color: #ff9999; font-size: 1.2rem;
        }

        /* --- MAIN SITE CONTENT --- */
        #main-site {
            position: relative; z-index: 10; width: 100%; max-width: 600px;
            margin: 0 auto; display: none; padding: 20px;
        }

        .section-card {
            background: var(--glass); backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px; padding: 20px; margin-bottom: 30px;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .broken-heart-card {
            text-align: center; font-size: 5rem; padding: 40px;
        }
        .crack-anim { animation: crack 0.5s forwards; }
        @keyframes crack { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); filter: grayscale(1); } }

        .video-grid { display: grid; grid-template-columns: 1fr; gap: 20px; }
        video { width: 100%; border-radius: 15px; border: 1px solid #444; background: #000; }

        .photo-viewer {
            width: 100%; height: 400px; position: relative;
            overflow: hidden; border-radius: 15px; cursor: pointer;
        }
        .photo-viewer img {
            width: 100%; height: 100%; object-fit: cover;
            transition: opacity 0.8s ease-in-out;
        }

        .shayari-card {
            background: linear-gradient(145deg, #1a0000, #000);
            padding: 20px; border-radius: 15px; margin-bottom: 15px;
            cursor: pointer; border-left: 4px solid var(--primary-red);
        }

        .chat-bubble {
            padding: 10px 15px; border-radius: 15px; margin-bottom: 10px;
            max-width: 80%; line-height: 1.4;
        }
        .chat-left { background: #333; align-self: flex-start; }
        .chat-right { background: #800; align-self: flex-end; margin-left: auto; }

        .insta-link {
            color: #e1306c; text-decoration: none; font-weight: bold;
            display: block; margin-top: 10px;
        }

        .footer-goodbye {
            text-align: center; padding: 50px 0; border-top: 1px solid #222;
        }

        /* --- UTILS --- */
        .typewriter-text { font-size: 1.2rem; color: #ccc; min-height: 1.5em; }
        .hidden { display: none !important; }
        #flash {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: white; opacity: 0; z-index: 1000; pointer-events: none;
        }
    </style>
</head>
<body>

    <div id="flash"></div>
    <canvas id="canvas-bg"></canvas>
    
    <audio id="bg-music" src="newsong.mp3" loop></audio>
    <audio id="broken-music" src="broken.mp3" loop></audio>

    <div id="intro-overlay">
        <div class="heart-container" onclick="explodeHeart()">
            <div class="heart-3d"></div>
        </div>
        
        <div id="proposal-ui">
            <h1 style="text-shadow: var(--text-shadow); margin-bottom: 10px;">Aarvi ji</h1>
            <p>Welcome to SivaSingh‚Äôs heart üíñ</p>
            <p style="margin: 20px 0; font-weight: bold;">I want to say I love you... Do you love me?</p>
            <div class="btn-group">
                <button class="btn btn-yes" onclick="handleYes()">YES ‚ù§Ô∏è</button>
                <button class="btn btn-breakup" onclick="handleBreakup()">BREAKUP üíî</button>
            </div>
        </div>
    </div>

    <div id="call-ui">
        <div class="caller-info">
            <div class="caller-name">Aarvi</div>
            <div style="color: #0f0;">Calling...</div>
        </div>
        <div id="dialogue-box" class="call-dialogue"></div>
        <div id="call-controls">
            <button class="btn btn-yes" id="accept-call" onclick="startCallSequence()">ACCEPT</button>
        </div>
    </div>

    <div id="main-site">
        <div class="section-card broken-heart-card" id="top-heart">
            üíî
        </div>

        <div class="section-card">
            <div id="typewriter" class="typewriter-text"></div>
        </div>

        <div class="section-card">
            <h3 style="margin-bottom: 15px; color: var(--primary-red);">Memories In Motion</h3>
            <div class="video-grid">
                <video src="video1.mp4" controls playsinline onplay="pauseAllAudio(this)"></video>
                <video src="video2.mp4" controls playsinline onplay="pauseAllAudio(this)"></video>
                <video src="video3.mp4" controls playsinline onplay="pauseAllAudio(this)"></video>
                <video src="video4.mp4" controls playsinline onplay="pauseAllAudio(this)"></video>
            </div>
        </div>

        <div class="section-card">
            <h3 style="margin-bottom: 15px; color: var(--primary-red);">Captured Moments</h3>
            <div class="photo-viewer" onclick="nextPhoto()">
                <img id="memory-photo" src="photo1.jpg" alt="Memory">
            </div>
            <p style="text-align: center; margin-top: 10px; font-size: 0.8rem; color: #666;">Tap to change photo</p>
        </div>

        <div class="section-card">
            <h3 style="margin-bottom: 15px; color: var(--primary-red);">Dil Ke Alfaaz</h3>
            <div class="shayari-card" onclick="playShayari()">
                "Mohabbat ka ab koi iraada nahi hai... Par teri yaad se peecha chhoot-ta nahi hai."
            </div>
            <div class="shayari-card" onclick="playShayari()">
                "Tum kisi aur ke ho gaye humare baad... Hum kisi aur ke na ho sake tumhare baad."
            </div>
        </div>

        <div class="section-card">
            <h3 style="margin-bottom: 15px; color: var(--primary-red);">The Last Chat</h3>
            <div style="display: flex; flex-direction: column;">
                <div class="chat-bubble chat-left">Siva... hume rukna chahiye.</div>
                <div class="chat-bubble chat-right">Kyun Aarvi? Kya galti hui mujhse?</div>
                <div class="chat-bubble chat-left">Galti tumhari nahi... waqt ki hai.</div>
            </div>
        </div>

        <div class="section-card">
            <h3 style="margin-bottom: 10px;">Instagram</h3>
            <a href="#" class="insta-link">üì∏ @smss1708</a>
            <a href="#" class="insta-link">üì∏ @black_its_me20</a>
        </div>

        <div class="footer-goodbye">
            <p style="font-size: 1.5rem; margin-bottom: 20px;">Mai ja rahi hoon‚Ä¶ hamesha ke liye‚Ä¶</p>
            <button class="btn btn-breakup" onclick="finalGoodbye()">Good Bye ü•Ä</button>
        </div>
    </div>

    <script>
        // --- GLOBALS & STATE ---
        const bgMusic = document.getElementById('bg-music');
        const brokenMusic = document.getElementById('broken-music');
        const videos = document.querySelectorAll('video');
        let currentPhotoIndex = 1;
        let isBreakup = false;

        // --- BACKGROUND CANVAS (RAIN) ---
        const canvas = document.getElementById('canvas-bg');
        const ctx = canvas.getContext('2d');
        let particles = [];

        function initCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            for(let i = 0; i < 100; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    l: Math.random() * 20,
                    v: Math.random() * 10 + 5
                });
            }
        }

        function drawCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = isBreakup ? 'rgba(100, 100, 255, 0.2)' : 'rgba(255, 100, 200, 0.2)';
            ctx.lineWidth = 1;
            particles.forEach(p => {
                ctx.beginPath();
                ctx.moveTo(p.x, p.y);
                ctx.lineTo(p.x, p.y + p.l);
                ctx.stroke();
                p.y += p.v;
                if(p.y > canvas.height) p.y = -20;
            });
            requestAnimationFrame(drawCanvas);
        }

        window.onload = () => { initCanvas(); drawCanvas(); };

        // --- CORE LOGIC ---

        function explodeHeart() {
            document.querySelector('.heart-container').style.display = 'none';
            document.getElementById('proposal-ui').style.display = 'block';
            flashScreen();
        }

        function flashScreen() {
            const f = document.getElementById('flash');
            f.style.opacity = '1';
            setTimeout(() => f.style.opacity = '0', 200);
        }

        function handleYes() {
            bgMusic.play();
            document.getElementById('intro-overlay').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('intro-overlay').classList.add('hidden');
                document.getElementById('main-site').style.display = 'block';
            }, 1000);
        }

        function handleBreakup() {
            isBreakup = true;
            bgMusic.pause();
            brokenMusic.play();
            flashScreen();
            
            document.getElementById('intro-overlay').classList.add('hidden');
            document.getElementById('call-ui').style.display = 'flex';
        }

        // --- CALL SEQUENCE ---
        const dialogue = [
            { t: "Aarvi: \"Hello Siva‚Ä¶\"", d: 2000 },
            { t: "Siva: \"Haan babu‚Ä¶\"", d: 2000 },
            { t: "Aarvi: \"Mai hamesha ke liye ja rahi hu‚Ä¶\"", d: 2500 },
            { t: "Siva: \"Please Aarvi mujhe chhod ke mat jao, mai pagal ho jaunga‚Ä¶\"", d: 3000 },
            { t: "Aarvi: \"Sorry Siva‚Ä¶ ab hum kabhi nahi milenge‚Ä¶\"", d: 2500 }
        ];

        function startCallSequence() {
            document.getElementById('call-controls').classList.add('hidden');
            let i = 0;
            const box = document.getElementById('dialogue-box');
            
            function nextLine() {
                if(i < dialogue.length) {
                    box.innerText = dialogue[i].t;
                    setTimeout(() => { i++; nextLine(); }, dialogue[i].d);
                } else {
                    endCall();
                }
            }
            nextLine();
        }

        function endCall() {
            document.getElementById('call-ui').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('call-ui').classList.add('hidden');
                showBreakupSite();
            }, 1000);
        }

        function showBreakupSite() {
            document.getElementById('main-site').style.display = 'block';
            document.getElementById('top-heart').classList.add('crack-anim');
            startTypewriter();
        }

        // --- CONTENT FEATURES ---
        const sadTexts = [
            "Kuch log sirf yaadon mein reh jaate hain‚Ä¶",
            "Hum chaah kar bhi tumhare nahi rahe‚Ä¶",
            "Mohabbat aaj bhi hai, par ab saath nahi‚Ä¶"
        ];

        function startTypewriter() {
            const el = document.getElementById('typewriter');
            let lineIdx = 0;
            function type() {
                let charIdx = 0;
                let currentLine = sadTexts[lineIdx];
                el.innerText = "";
                const interval = setInterval(() => {
                    el.innerText += currentLine[charIdx];
                    charIdx++;
                    if(charIdx >= currentLine.length) {
                        clearInterval(interval);
                        setTimeout(() => {
                            lineIdx = (lineIdx + 1) % sadTexts.length;
                            type();
                        }, 3000);
                    }
                }, 100);
            }
            type();
        }

        function nextPhoto() {
            currentPhotoIndex++;
            if(currentPhotoIndex > 10) currentPhotoIndex = 1;
            const img = document.getElementById('memory-photo');
            img.style.opacity = '0';
            setTimeout(() => {
                img.src = `photo${currentPhotoIndex}.jpg`;
                img.style.opacity = '1';
            }, 800);
        }

        function pauseAllAudio(currentVideo) {
            bgMusic.pause();
            brokenMusic.pause();
            videos.forEach(v => {
                if(v !== currentVideo) {
                    v.pause();
                    v.currentTime = 0;
                }
            });
            
            currentVideo.onended = () => {
                if(isBreakup) brokenMusic.play();
                else bgMusic.play();
            };
        }

        function playShayari() {
            brokenMusic.currentTime = 0;
            brokenMusic.play();
        }

        function finalGoodbye() {
            document.getElementById('top-heart').style.transition = '2s';
            document.getElementById('top-heart').style.opacity = '0';
            document.getElementById('top-heart').style.transform = 'scale(0) rotate(180deg)';
            
            let vol = 1.0;
            const fadeout = setInterval(() => {
                vol -= 0.05;
                if(vol <= 0) {
                    clearInterval(fadeout);
                    brokenMusic.pause();
                    document.body.style.transition = '3s';
                    document.body.style.background = '#000';
                    document.getElementById('main-site').style.opacity = '0';
                } else {
                    brokenMusic.volume = vol;
                }
            }, 150);
        }
    </script>
</body>
</html>
